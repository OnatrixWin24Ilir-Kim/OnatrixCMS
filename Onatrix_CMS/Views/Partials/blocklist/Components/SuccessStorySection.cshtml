@using Umbraco.Cms.Web.Common.PublishedModels;
@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage<Umbraco.Cms.Core.Models.Blocks.BlockListItem>

@{
    var content = (SuccessStorySection)Model.Content;
    var heading = content.Heading ?? "";
    var highlightText = content.HighlightText ?? "";
    var description = content.Description ?? "";
    var buttonText = content.ButtonText ?? "";
    var buttonUrl = content.ButtonUrl ?? "";
    var teamPhoto = content.TeamPhoto?.Url() ?? "";
    var backgroundImage = content.BackgroundImage?.Url() ?? "";
    var backgroundColor = content.BackgroundColor ?? "#ffffff";
    
    var hasButton = !string.IsNullOrEmpty(buttonText) && !string.IsNullOrEmpty(buttonUrl);
    
    // Build background style
    var backgroundStyle = $"background-color: {backgroundColor};";
    if (!string.IsNullOrEmpty(backgroundImage))
    {
        backgroundStyle += $" background-image: url('{backgroundImage}'); background-repeat: repeat; background-size: auto;";
    }
}

<section class="success-story-section py-20" style="@backgroundStyle">
    <div class="max-w-7xl mx-auto px-4">
        
        <!-- Content - Centered -->
        <div class="text-center mb-12">
            @if (!string.IsNullOrEmpty(heading))
            {
                <h2 class="font-bold mb-2" style="font-size: 40px; line-height: 1.3; color: #4f5955;">
                    @heading
                </h2>
            }

            @if (!string.IsNullOrEmpty(highlightText))
            {
                <h2 class="font-bold mb-6" style="font-size: 40px; line-height: 1.3; color: #d9c3a9;">
                    @highlightText
                </h2>
            }

            @if (!string.IsNullOrEmpty(description))
            {
                <p class="mb-8" style="font-size: 16px; line-height: 1.7; color: #535656; max-width: 700px; margin-left: auto; margin-right: auto;">
                    @description
                </p>
            }

            @if (hasButton)
            {
                <div class="mb-12">
                    <a href="@buttonUrl" 
                       class="inline-block px-8 py-3 font-semibold transition-all duration-300 hover:opacity-90"
                       style="background-color: #4f5955; color: white; text-decoration: none;">
                        @buttonText
                    </a>
                </div>
            }
        </div>

        <!-- Team Photo - Full Width -->
        @if (!string.IsNullOrEmpty(teamPhoto))
        {
            <div class="flex justify-center">
                <img src="@teamPhoto" 
                     alt="Our Team" 
                     class="w-full h-auto object-contain"
                     style="max-width: 1200px;" />
            </div>
        }
    </div>
</section>
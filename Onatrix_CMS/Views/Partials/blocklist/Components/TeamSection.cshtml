@using Umbraco.Cms.Web.Common.PublishedModels;
@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage<Umbraco.Cms.Core.Models.Blocks.BlockListItem>

@{

    var content = (ContentModels.TeamSection)Model.Content;
    var teamList = content.TeamMemberList;

}

<section class="py-[4rem] bg-[var(--clr-neutral)]">
    <div class="max-w-7xl mx-auto px-4">
        <div class="flex flex-col gap-2 items-center text-center">
            <p class="text-sm text-secondary font-semibold uppercase m-0">@content.TeamLabel</p>
            <h2 class="text-[2.5rem] text-primary font-bold leading-tight m-0">@Html.Raw(content.TeamTitle)</h2>
        </div>

        @if (teamList != null)
        {
            <!-- First row: 3 members -->
            <div class="flex flex-wrap justify-center gap-4 pt-5 pb-5 team-row-large">
                @for(var i = 0; i < 3 && i < teamList.Count; i++)
                {
                    var member = teamList[i];
                    <div class="w-full sm:w-[calc(50%-0.5rem)] md:w-[calc(33.333%-1rem)]">
                        <partial name="Partials/blocklist/Components/TeamMember" model="member" />
                    </div>
                }
            </div>

            <!-- Second row: 4 members -->
            @if (teamList.Count > 3)
            {
                <div class="flex flex-wrap justify-center gap-4 pb-5 team-row-small">
                    @for(var i = 3; i < teamList.Count; i++)
                    {
                        var member = teamList[i];
                        <div class="w-full sm:w-[calc(50%-0.5rem)] md:w-[calc(25%-0.75rem)]">
                            <partial name="Partials/blocklist/Components/TeamMember" model="member" />
                        </div>
                    }
                </div>
            }
        }
    </div>
</section>
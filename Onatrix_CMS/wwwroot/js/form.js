/*
 form.js â€” Persist and restore scroll position across form submissions

 Summary:
 - On page load (DOMContentLoaded), reads a previously saved scroll position from
   sessionStorage and scrolls to it, then clears the saved value.
 - Before any form with class "submit-form" is submitted, saves the current
   vertical scroll position (window.scrollY) to sessionStorage.

 Usage:
 - Include this script on pages containing forms that may refresh or redirect
   after submission.
 - Add the class "submit-form" to any <form> whose scroll position you want to
   preserve across the submission.

 Notes:
 - Uses sessionStorage (per-tab lifecycle). No external dependencies.
 - Key used: "scrollPosition".
*/


// Generated by ChatGPT
document.addEventListener("DOMContentLoaded", function() {
    // 1. Check for a saved scroll position on page load
    const savedPosition = sessionStorage.getItem('scrollPosition');

    if (savedPosition) {
        // 2. If a position is found, scroll to it
        window.scrollTo(0, parseInt(savedPosition, 10));
        // 3. Clear the saved position so it doesn't affect subsequent loads
        sessionStorage.removeItem('scrollPosition');
    }

    // 4. Find all forms on the page
    const forms = document.querySelectorAll('.submit-form');

    // 5. Add a submit event listener to each form
    forms.forEach(form => {
        form.addEventListener('submit', function() {
            // 6. Save the current scroll position to session storage before submission
            sessionStorage.setItem('scrollPosition', window.scrollY);
        });
    });
});